:root{
  --bg:#0f0f12;
  --panel:#141416;
  --muted:#9aa0a6;
  --accent:#2db7b7;
  --card:#151619;
  --rarity-common:#9aa0a6;
  --rarity-uncommon:#3bbf6c;
  --rarity-rare:#4aa3ff;
  --rarity-epic:#c97cff;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0;background:linear-gradient(180deg,var(--bg),#060607);color:#e9eef1;font-family:Inter,Arial,sans-serif}
header{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;border-bottom:1px solid #0b0b0c}
h1{margin:0;font-size:20px}
#balance{background:#0b0b0c;padding:8px 12px;border-radius:8px;font-weight:600}

main{display:grid;grid-template-columns:1fr 380px;gap:20px;padding:20px 30px}
section{background:var(--panel);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.6)}
.mission-header{display:flex;justify-content:space-between;align-items:center}
.controls button{margin-left:8px}

button{background:#1c1c1d;border:1px solid #232426;color:#fff;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer}
button:hover{filter:brightness(1.05)}

.loadout-brief{margin-top:14px;background:#0e0e10;padding:12px;border-radius:8px;color:var(--muted)}

.mission-actions{margin-top:18px}

.panel{grid-column:2/3;position:sticky;top:20px;background:rgba(12,12,12,0.98);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.02)}
.panel-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.tabs{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}
.tab{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:6px 8px;border-radius:8px;color:var(--muted);cursor:pointer}
.tab.active{background:#0b0b0c;color:#fff;border-color:rgba(255,255,255,0.06)}

.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;max-height:62vh;overflow:auto;padding-bottom:8px}
.card{background:var(--card);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:8px}
.card .title{display:flex;justify-content:space-between;align-items:center;font-weight:700}
.price{font-weight:800}
.desc{color:var(--muted);font-size:13px;min-height:36px}
.card .row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}
.rarity{padding:4px 8px;border-radius:999px;font-weight:700;font-size:12px;color:#071014}
.rarity.common{background:var(--rarity-common);color:#071014}
.rarity.uncommon{background:var(--rarity-uncommon);color:#042611}
.rarity.rare{background:var(--rarity-rare);color:#02293f}
.rarity.epic{background:var(--rarity-epic);color:#2b002f}

.ownedBadge{background:#224422;color:#bff0c8;padding:6px 8px;border-radius:8px;font-weight:700}
.buyBtn{background:#063; padding:8px 10px;border-radius:8px;color:white;border:none}
.disabled{opacity:0.45;pointer-events:none}

#brief-loadout{display:flex;gap:10px;flex-wrap:wrap}
.badge{background:#101010;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.02)}

footer{padding:14px 30px;color:var(--muted);font-size:13px}

/* Picker overlay */
#pickerOverlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(0,0,0,0.85));z-index:9999}
#pickerContainer{position:relative;width:80%;max-width:1100px;height:240px;border-radius:12px;background:linear-gradient(180deg,#0b0b0c,#050506);padding:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
#pickerStrip{position:absolute;left:0;right:0;top:30px;height:120px;display:flex;align-items:center;gap:20px;transform:translateX(0);transition:transform 0.4s cubic-bezier(.22,.91,.35,1)}
.pickerCard{min-width:220px;height:110px;border-radius:10px;background:#111;padding:12px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-weight:700;border:1px solid rgba(255,255,255,0.03);transform:scale(0.9);opacity:0.8;transition:transform 0.25s,opacity 0.25s}
.pickerCard.selected{transform:scale(1.25);opacity:1;background:linear-gradient(90deg,var(--accent),#555)}
#pickerPointer{position:absolute;left:50%;transform:translateX(-50%);top:18px;font-size:26px;color:var(--accent);pointer-events:none}
#pickerResult{position:absolute;left:50%;transform:translateX(-50%);top:150px;text-align:center;color:#fff}
#pickerResult h2{margin:0 0 6px 0;font-size:20px}
#pickerResult p{margin:0 0 10px 0;color:var(--muted)}

/* responsive */
@media (max-width:1000px){
  main{grid-template-columns:1fr; padding:12px}
  .panel{position:static;margin-top:12px}
  .grid{grid-template-columns:repeat(1,1fr)}
  #pickerContainer{width:95%}
}
